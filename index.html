<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>流萤 AI Demo</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <!-- 引入正确的官方 SDK 脚本 -->
    <script src="https://lf-cdn.coze.cn/obj/unpkg/flow-platform/chat-app-sdk/1.2.0-beta.10/libs/cn/index.js"></script>
    
    <script>
      new CozeWebSDK.WebChatClient({
        // ===== 基础配置 =====
        config: {
          bot_id: '7544300284668182566',
        },
        // ===== 外观和布局配置 =====
        componentProps: {
          title: '与流萤对话',
          layout: 'pc',
          width: "100vw",
          height: "100vh",
        },
        // ===== 身份验证配置（已添加 onRefreshToken）=====
        auth: {
          type: 'token',
          token: 'cztei_hK4dxIhBYUktJ0FalpYAijFnAUoY6oE4kpdPg7tF2UAgx6gNCxlK7jCtuIFYtpGen',
          // 根据错误提示，这是一个必须提供的函数
          onRefreshToken: function () {
            // 在我们的场景下，它只需要返回同一个长期有效的 token 即可
            return 'cztei_hK4dxIhBYUktJ0FalpYAijFnAUoY6oE4kpdPg7tF2UAgx6gNCxlK7jCtuIFYtpGen';
          }
        }
      });
    </script>
</body>
</html>
